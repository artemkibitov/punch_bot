# –ò—Ç–æ–≥–æ–≤–æ–µ —Ä–µ–∑—é–º–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

### 1. –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- ‚úÖ –°–æ–∑–¥–∞–Ω DI –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä (`app/infrastructure/di/container.js`)
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ use cases
- ‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤—Å–µ—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ –∏ —Å–µ—Ä–≤–∏—Å–æ–≤

### 2. –ú–æ–¥—É–ª—å Shift (100% –≥–æ—Ç–æ–≤)
**Use Cases:**
- ‚úÖ `CreateShiftUseCase`
- ‚úÖ `ConfirmShiftStartUseCase`
- ‚úÖ `ConfirmShiftEndUseCase`
- ‚úÖ `GetShiftDetailsUseCase`
- ‚úÖ `AddEmployeeToShiftUseCase`
- ‚úÖ `RemoveEmployeeFromShiftUseCase`
- ‚úÖ `GetShiftsListUseCase`
- ‚úÖ `GetShiftReportUseCase`

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:**
- ‚úÖ –í—Å–µ callbacks –æ–±–Ω–æ–≤–ª–µ–Ω—ã
- ‚úÖ –í—Å–µ FSM —Å–æ—Å—Ç–æ—è–Ω–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω—ã

### 3. –ú–æ–¥—É–ª—å Employee (100% –≥–æ—Ç–æ–≤)
**Use Cases:**
- ‚úÖ `CreateEmployeeUseCase`
- ‚úÖ `LinkTelegramUseCase`
- ‚úÖ `GenerateRefCodeUseCase`
- ‚úÖ `GetEmployeeDetailsUseCase`
- ‚úÖ `GetEmployeesListUseCase`

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:**
- ‚úÖ –û—Å–Ω–æ–≤–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω—ã (`employeeRefLinkActivate`, `managerEmployeeCreateEnterName`, `employeeCreateEnterName`)

### 4. –ú–æ–¥—É–ª—å Object (100% –≥–æ—Ç–æ–≤)
**Use Cases:**
- ‚úÖ `CreateObjectUseCase`
- ‚úÖ `UpdateObjectUseCase`
- ‚úÖ `GetObjectDetailsUseCase`
- ‚úÖ `GetObjectsListUseCase`
- ‚úÖ `AssignEmployeeToObjectUseCase`
- ‚úÖ `UnassignEmployeeFromObjectUseCase`

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:**
- ‚úÖ –ö–ª—é—á–µ–≤—ã–µ callbacks –æ–±–Ω–æ–≤–ª–µ–Ω—ã (`manager:object:employee:onboard:confirm`, `employee:unassign`, `object:edit:status:confirm`)

### 5. –ú–æ–¥—É–ª—å WorkLog (100% –≥–æ—Ç–æ–≤)
**Use Cases:**
- ‚úÖ `CreateWorkLogUseCase`
- ‚úÖ `UpdateWorkLogUseCase`
- ‚úÖ `GetWorkLogDetailsUseCase`
- ‚úÖ `GetWorkLogsListUseCase`

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:**
- ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–π –∏ callbacks

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

- **–í—Å–µ–≥–æ —Å–æ–∑–¥–∞–Ω–æ use cases:** 23
- **–ú–æ–¥—É–ª–µ–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ä–æ–≤–∞–Ω–æ:** 4
- **Callbacks –æ–±–Ω–æ–≤–ª–µ–Ω–æ:** ~10
- **FSM —Å–æ—Å—Ç–æ—è–Ω–∏–π –æ–±–Ω–æ–≤–ª–µ–Ω–æ:** ~8

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –°–ª–æ–∏:
1. **Domain** - –ß–∏—Å—Ç—ã–µ –±–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–∞, –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã, FSM
2. **Application** - Use Cases, —Å–µ—Ä–≤–∏—Å—ã –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏–∏
3. **Infrastructure** - –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏, –ë–î, DI –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
4. **Presentation** - Telegram –±–æ—Ç, callbacks, UI

### –ü—Ä–∏–Ω—Ü–∏–ø—ã:
- ‚úÖ Dependency Injection —á–µ—Ä–µ–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
- ‚úÖ Separation of Concerns
- ‚úÖ Use Cases –¥–ª—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏
- ‚úÖ Clean Architecture

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
app/
‚îú‚îÄ‚îÄ application/
‚îÇ   ‚îú‚îÄ‚îÄ usecases/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ shift/          # 8 use cases ‚úÖ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ employee/       # 5 use cases ‚úÖ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ object/         # 6 use cases ‚úÖ
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ worklog/        # 4 use cases ‚úÖ
‚îÇ   ‚îú‚îÄ‚îÄ services/           # –°–µ—Ä–≤–∏—Å—ã –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ fsm/                # FSM —Å–æ—Å—Ç–æ—è–Ω–∏—è (—á–∞—Å—Ç–∏—á–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω—ã)
‚îú‚îÄ‚îÄ infrastructure/
‚îÇ   ‚îú‚îÄ‚îÄ di/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ container.js    # DI –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä ‚úÖ
‚îÇ   ‚îî‚îÄ‚îÄ repositories/       # –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
‚îî‚îÄ‚îÄ transport/              # Telegram –±–æ—Ç, callbacks (—á–∞—Å—Ç–∏—á–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω—ã)
```

---

## üîÑ –ß—Ç–æ –æ—Å—Ç–∞–ª–æ—Å—å —Å–¥–µ–ª–∞—Ç—å

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1: –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
1. –û–±–Ω–æ–≤–∏—Ç—å –æ—Å—Ç–∞–≤—à–∏–µ—Å—è FSM —Å–æ—Å—Ç–æ—è–Ω–∏—è –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è use cases
2. –û–±–Ω–æ–≤–∏—Ç—å –æ—Å—Ç–∞–≤—à–∏–µ—Å—è callbacks –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è use cases
3. –û–±–Ω–æ–≤–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏—è –¥–ª—è WorkLog –º–æ–¥—É–ª—è

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2: –û—á–∏—Å—Ç–∫–∞
1. –£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–π `ShiftService` (–ª–æ–≥–∏–∫–∞ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞ –≤ use cases)
2. –û–±–Ω–æ–≤–∏—Ç—å –≤—Å–µ –∏–º–ø–æ—Ä—Ç—ã
3. –ü—Ä–æ–≤–µ—Å—Ç–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
1. –û–±–Ω–æ–≤–∏—Ç—å README —Å –Ω–æ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π
2. –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è use cases
3. –°–æ–∑–¥–∞—Ç—å —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

---

## üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

1. **–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å** - Use cases –ª–µ–≥–∫–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ
2. **–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç—å** - –ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
3. **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ use cases
4. **–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ** - Use cases –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–∑ —Ä–∞–∑–Ω—ã—Ö –º–µ—Å—Ç
5. **Dependency Injection** - –õ–µ–≥–∫–æ –º–µ–Ω—è—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

---

## üìù –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –î–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞:
```javascript
const shiftRepo = new ShiftRepository();
const workLogRepo = new WorkLogRepository();
const shift = await shiftRepo.findById(shiftId);
const workLogs = await workLogRepo.findByObjectShiftId(shiftId);
```

### –ü–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞:
```javascript
const getShiftDetailsUseCase = await container.getAsync('GetShiftDetailsUseCase');
const { shift, workLogs } = await getShiftDetailsUseCase.execute(shiftId);
```

---

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

- ‚úÖ –í—Å–µ use cases —Å–æ–∑–¥–∞–Ω—ã
- ‚úÖ DI –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- ‚úÖ –û—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥—É–ª–∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã
- ‚è≥ –û—Å—Ç–∞–ª—å–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏ callbacks —Ç—Ä–µ–±—É—é—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- ‚è≥ –°—Ç–∞—Ä—ã–µ —Å–µ—Ä–≤–∏—Å—ã —Ç—Ä–µ–±—É—é—Ç —É–¥–∞–ª–µ–Ω–∏—è

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Å—Ç–∞–≤—à–∏—Ö—Å—è —Å–æ—Å—Ç–æ—è–Ω–∏–π –∏ callbacks
2. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
3. –£–¥–∞–ª–∏—Ç—å —É—Å—Ç–∞—Ä–µ–≤—à–∏–π –∫–æ–¥
4. –û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2025-01-XX  
**–°—Ç–∞—Ç—É—Å:** –í –ø—Ä–æ—Ü–µ—Å—Å–µ (–æ—Å–Ω–æ–≤–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –≥–æ—Ç–æ–≤–∞)

